<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Alejandra ‚ù§Ô∏è</title>

<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:radial-gradient(circle at top,#0b0f1a,#000);
  font-family:Arial,sans-serif;
}
canvas{display:block}

.texto{
  position:absolute;
  top:12%;
  width:100%;
  text-align:center;
  color:#ffb6c1;
  z-index:5;
  pointer-events:none;
}
h1{color:#ff4d6d;letter-spacing:3px}
p{max-width:340px;margin:auto;font-style:italic;font-size:18px}
.firma{margin-top:20px;opacity:0;transition:opacity 3s}
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<div class="texto">
  <h1>TE AMO ALEJANDRA</h1>
  <p id="frase"></p>
  <div class="firma" id="firma">‚Äî Danny</div>
</div>

<audio id="audio" autoplay loop muted>
  <source src="quiero-decirte.mp3" type="audio/mpeg">
</audio>

<script>
const c = document.getElementById("canvas");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;

let t = 0;

// üíì CORAZ√ìN CON LATIDO REAL
function corazon(x,y,s,beat){
 ctx.save();
 ctx.translate(x,y);
 ctx.scale(s+beat,s+beat);
 ctx.beginPath();
 for(let i=0;i<Math.PI*2;i+=0.01){
  const px=16*Math.pow(Math.sin(i),3);
  const py=-(13*Math.cos(i)-5*Math.cos(2*i)-2*Math.cos(3*i)-Math.cos(4*i));
  ctx.lineTo(px,py);
 }
 ctx.fillStyle="#ff4d6d";
 ctx.shadowColor="#ff4d6d";
 ctx.shadowBlur=30;
 ctx.fill();
 ctx.restore();
}

// üåº FLOR QUE SE DIBUJA
function flor(x,y,s,prog,w){
 for(let i=0;i<6*prog;i++){
  ctx.save();
  ctx.translate(x,y);
  ctx.rotate((Math.PI*2/6)*i+w);
  ctx.beginPath();
  ctx.moveTo(0,0);
  ctx.quadraticCurveTo(s/2,-s,0,-s*1.7);
  ctx.quadraticCurveTo(-s/2,-s,0,0);
  const g=ctx.createRadialGradient(0,-s,5,0,-s,s);
  g.addColorStop(0,"#fff9c4");
  g.addColorStop(1,"#ffd700");
  ctx.fillStyle=g;
  ctx.shadowColor="#ffd700";
  ctx.shadowBlur=15;
  ctx.fill();
  ctx.restore();
 }
}

// ‚ú® LUCI√âRNAGAS
const luces=[...Array(50)].map(()=>({
 x:Math.random()*c.width,
 y:Math.random()*c.height,
 r:Math.random()*2+1,
 v:Math.random()*0.5+0.3
}));

// üå∏ P√âTALOS
const petalos=[...Array(30)].map(()=>({
 x:Math.random()*c.width,
 y:Math.random()*c.height,
 r:Math.random()*6+4,
 v:Math.random()*1+0.5,
 a:Math.random()*Math.PI
}));

// üíå TEXTO
const mensaje="Si tuviera que elegir un lugar seguro en el mundo, siempre ser√≠a tu abrazo. Cada latido m√≠o te pertenece.";
let i=0;
const frase=document.getElementById("frase");
const firma=document.getElementById("firma");

function escribir(){
 if(i<mensaje.length){
  frase.innerHTML+=mensaje.charAt(i++);
  setTimeout(escribir,70);
 }else{
  setTimeout(()=>firma.style.opacity=1,1500);
 }
}
escribir();

// üéµ ACTIVAR AUDIO
document.body.addEventListener("click",()=>{
 const a=document.getElementById("audio");
 a.muted=false;
 a.play();
},{once:true});

// üé¨ ANIMACI√ìN
function animar(){
 ctx.clearRect(0,0,c.width,c.height);

 // luci√©rnagas
 luces.forEach(l=>{
  ctx.beginPath();
  ctx.arc(l.x,l.y,l.r,0,Math.PI*2);
  ctx.fillStyle="rgba(255,215,0,0.8)";
  ctx.fill();
  l.y-=l.v;
  if(l.y<0)l.y=c.height;
 });

 // p√©talos
 petalos.forEach(p=>{
  ctx.beginPath();
  ctx.ellipse(p.x,p.y,p.r,p.r*0.6,p.a,0,Math.PI*2);
  ctx.fillStyle="rgba(255,182,193,0.7)";
  ctx.fill();
  p.y+=p.v;
  p.a+=0.01;
  if(p.y>c.height){p.y=-10;p.x=Math.random()*c.width}
 });

 // latido
 const beat=Math.abs(Math.sin(t*2))*0.06;
 corazon(c.width/2,c.height*0.45,1.2,beat);

 // flores progresivas
 const prog=Math.min(1,t/3);
 flor(c.width/2-140,c.height*0.65,45,prog,Math.sin(t)*0.2);
 flor(c.width/2+140,c.height*0.65,45,prog,-Math.sin(t)*0.2);

 t+=0.02;
 requestAnimationFrame(animar);
}
animar();

onresize=()=>{
 c.width=innerWidth;
 c.height=innerHeight;
};
</script>

</body>
</html>
