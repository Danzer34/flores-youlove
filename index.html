<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Alejandra ‚ù§Ô∏è</title>

<style>
html,body{
  margin:0;
  padding:0;
  overflow:hidden;
  background:radial-gradient(circle at top,#0b0f1a,#000);
  font-family:Arial,sans-serif;
}
canvas{display:block}

.texto{
  position:absolute;
  top:6%;
  width:100%;
  text-align:center;
  z-index:5;
  pointer-events:none;
}
h1{
  color:#ff4d6d;
  letter-spacing:3px;
  font-size:34px;
}
#frase{
  color:#ffd1dc;
  max-width:780px;
  margin:auto;
  font-style:italic;
  font-size:18px;
  text-shadow:0 0 14px rgba(255,182,193,0.5);
}
#firma{
  margin-top:15px;
  opacity:0;
  color:#ff9db5;
  transition:opacity 2s;
}

#letraCancion{
  position:absolute;
  bottom:6%;
  width:100%;
  text-align:center;
  color:#ffe4ec;
  font-size:16px;
  line-height:1.6;
  font-style:italic;
  text-shadow:0 0 14px rgba(255,182,193,0.8);
  max-width:820px;
  left:50%;
  transform:translateX(-50%);
  opacity:0;
  transition:opacity 2s;
  pointer-events:none;
}

#tap{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.85);
  color:#ffd1dc;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  z-index:10;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="tap">üíñ Toca la pantalla para comenzar üíñ</div>

<canvas id="canvas"></canvas>

<div class="texto">
  <h1>TE AMO ALEJANDRA</h1>
  <p id="frase"></p>
  <div id="firma">‚Äî Danny</div>
</div>

<div id="letraCancion"></div>

<audio id="audio" loop>
  <source src="quiero-decirte.mp3" type="audio/mpeg">
</audio>

<script>
const c = document.getElementById("canvas");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;

const audio = document.getElementById("audio");
const tap = document.getElementById("tap");
const letraDiv = document.getElementById("letraCancion");

tap.onclick = ()=>{
  tap.style.display="none";
  audio.play();
};

onresize=()=>{c.width=innerWidth;c.height=innerHeight};

// üåô Luna
function luna(){
 ctx.beginPath();
 ctx.arc(c.width-120,120,55,0,Math.PI*2);
 ctx.fillStyle="#fff3c4";
 ctx.shadowColor="#fff3c4";
 ctx.shadowBlur=40;
 ctx.fill();
}

// ‚ú® Estrellas
const estrellas=[...Array(90)].map(()=>({
 x:Math.random()*c.width,
 y:Math.random()*c.height,
 a:Math.random()
}));

function drawEstrellas(){
 estrellas.forEach(e=>{
  ctx.globalAlpha=0.4+Math.sin(Date.now()*0.002+e.a)*0.6;
  ctx.fillStyle="#fff";
  ctx.fillRect(e.x,e.y,2,2);
 });
 ctx.globalAlpha=1;
}

// üíì Coraz√≥n dibuj√°ndose
let drawHeart=0;
function corazon(){
 ctx.save();
 ctx.translate(c.width/2,c.height*0.45);
 ctx.scale(9,9);
 ctx.beginPath();
 for(let i=0;i<drawHeart;i+=0.02){
  const x=16*Math.pow(Math.sin(i),3);
  const y=-(13*Math.cos(i)-5*Math.cos(2*i)-2*Math.cos(3*i)-Math.cos(4*i));
  ctx.lineTo(x,y);
 }
 ctx.strokeStyle="#ff4d6d";
 ctx.lineWidth=0.4;
 ctx.shadowColor="#ff4d6d";
 ctx.shadowBlur=20;
 ctx.stroke();
 ctx.restore();
 if(drawHeart<Math.PI*2)drawHeart+=0.01;
}

// üíñ Corazones cayendo
const corazones=[...Array(30)].map(()=>({
 x:Math.random()*c.width,
 y:Math.random()*c.height,
 v:Math.random()+0.6
}));

function drawCorazones(){
 corazones.forEach(h=>{
  ctx.font="18px serif";
  ctx.fillText("üíñ",h.x,h.y);
  h.y+=h.v;
  if(h.y>c.height){h.y=-20;h.x=Math.random()*c.width}
 });
}

// üé∂ Letra sincronizada (desde 19s, sin intro)
const letra = [
{t:30, txt:"Simplemente otro d√≠a m√°s planeando recuperarte"},
{t:36, txt:"La casa es como un infierno"},
{t:40, txt:"Queman los recuerdos"},
{t:44, txt:"Y yo, en plan masoquista, dej√© todo tal cual"},

{t:52, txt:"Pero ahora que no est√°s aqu√≠"},
{t:56, txt:"Que me di cuenta de lo que perd√≠"},
{t:60, txt:"Puede que no sea tan tarde pa' verte y decirte"},
{t:66, txt:"Que sigo toda loca por tu amor"},

{t:74, txt:"Quiero decirte que lo siento, que te echo de menos"},
{t:80, txt:"Que de to' lo que ha pasa'o, nena, yo me arrepiento"},
{t:86, txt:"Te quiero todav√≠a"},
{t:90, txt:"No pienses que ya te di por perd√≠'a"},

{t:98, txt:"Quiero decirte que lo siento, que te echo de menos"},
{t:104, txt:"Que de to' lo que ha pasa'o, nene, yo me arrepiento"},
{t:110, txt:"Te quiero todav√≠a"},
{t:114, txt:"No pienses que ya te di por perd√≠'o (perd√≠'a)"},

{t:124, txt:"O-o-ojal√° poder resetear mi mente y que no le d√© por ti"},
{t:132, txt:"Pero ¬øqu√© quieres que le haga, baby? No te voy a mentir"},
{t:140, txt:"Es que me inundo cada segundo"},
{t:146, txt:"Y llego a tal punto de no poder respirar"},
{t:152, txt:"Cuando empiezo a recordar"},

{t:160, txt:"Aquel instante de humed√°-√°-√°'"},
{t:166, txt:"Na' como lo que t√∫ me da-a-a'"},
{t:172, txt:"Pa' delante no puedo tira-a-a'"},
{t:178, txt:"Venga, porfa, dame otra oportunida'"},

{t:188, txt:"Quiero decirte que lo siento, que te echo de menos"},
{t:194, txt:"Que de to' lo que ha pasa'o, nena, yo me arrepiento"},
{t:200, txt:"Te quiero todav√≠a"},
{t:204, txt:"No pienses que ya te di por perd√≠'a"},

{t:212, txt:"Quiero decirte que lo siento, que te echo de menos"},
{t:218, txt:"Que de to' lo que ha pasa'o, nene, yo me arrepiento"},
{t:224, txt:"Te quiero todav√≠a"},
{t:228, txt:"No pienses que ya te di por perd√≠'o (perd√≠'a)"},

{t:236, txt:"Aquel instante de humed√°-√°-√°'"},
{t:242, txt:"Na' como lo que t√∫ me da-a-a'"},
{t:248, txt:"Pa' delante no puedo tira-a-a'"},
{t:252, txt:"(S√© que lo hice mal, no te valor√©)"},

{t:260, txt:"Pero ahora que no est√°s aqu√≠"},
{t:264, txt:"Que me di cuenta de lo que perd√≠"},
{t:268, txt:"Puede que no sea tan tarde pa' verte y decirte"},
{t:274, txt:"Que a√∫n sigo todo loco por tu amor"},

{t:282, txt:"Quiero decirte que lo siento, que te echo de menos"},
{t:288, txt:"Que de to' lo que ha pasa'o, nene, yo me arrepiento"},
{t:294, txt:"Te quiero todav√≠a"},
{t:298, txt:"No pienses que ya te di por perd√≠'o (perd√≠'a)"},

{t:306, txt:"Quiero decirte que lo siento, que te echo de menos"},
{t:312, txt:"Que de to' lo que ha pasa'o, nena, yo me arrepiento"},
{t:318, txt:"Te quiero todav√≠a"},
{t:322, txt:"No pienses que ya te di por perd√≠'a"}
];

setInterval(()=>{
 letra.forEach(l=>{
  if(audio.currentTime > l.t){
    letraDiv.style.opacity = 1;
    letraDiv.innerText = l.txt;
  }
 });
},400);

// üíå Frase rom√°ntica larga
const mensaje =
"Estaba tan acostumbrado a ver mis propios ojos cansados que olvid√© c√≥mo se sent√≠a la ilusi√≥n. " +
"Pero el d√≠a que mir√© los tuyos, todo cambi√≥. Entend√≠ que el amor no siempre llega haciendo ruido, " +
"sino qued√°ndose en silencio y decidiendo no irse. Desde entonces, cada latido m√≠o te pertenece.";

let i=0;
function escribir(){
 if(i<mensaje.length){
  document.getElementById("frase").innerHTML+=mensaje.charAt(i++);
  setTimeout(escribir,55);
 }else{
  document.getElementById("firma").style.opacity=1;
 }
}
escribir();

// üé¨ Animaci√≥n
function animar(){
 ctx.clearRect(0,0,c.width,c.height);
 luna();
 drawEstrellas();
 corazon();
 drawCorazones();
 requestAnimationFrame(animar);
}
animar();
</script>

</body>
</html>
